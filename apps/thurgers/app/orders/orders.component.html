<div class="center">

  <h1 class="timer">
    T - {{thurgerTime$ | async}}
  </h1>

  <div *ngIf="counts$ | async as count">
    <h2>Normal Orders</h2>
    Beef: {{count.Beef}} - Chicken: {{count.Chicken}}

    <h2>Special Orders</h2>
    <div *ngFor="let extra of count.Other">
      {{extra}}
    </div>
  </div>

  <div>
    <h2>What do you want?</h2>
  </div>
  <ng-container *ngIf="user$ | async as user">
    <button mat-raised-button color="primary" (click)="add(user.email)">Add Order</button>
    <div *ngFor="let order of thurgers$ | async as thurger; trackBy: trackById">
      {{order.email}}
      <button mat-raised-button [disabled]="order.email !== user.email" [color]="order.choice === 'Beef' ? 'primary' : ''" (click)="update(order.id, 'Beef', extras.value)" >Beef</button>
      <button mat-raised-button [disabled]="order.email !== user.email" [color]="order.choice === 'Chicken' ? 'primary' : ''" (click)="update(order.id, 'Chicken', extras.value)" >Chicken</button>
      <button mat-raised-button [disabled]="order.email !== user.email" color="warn" (click)="remove(order.id)" >Remove</button>
      <mat-form-field>
        <input matInput [disabled]="order.email !== user.email" placeholder="Extras" #extras [value]="order.extras" (keyup)="update(order.id, order.choice, extras.value)" />
      </mat-form-field>
      Last Edited: {{order.addedAt}} ago
    </div>
  </ng-container>
</div>
